@model IEnumerable<RipMyPaperToShreds.com.Models.Papers>

@{
    ViewData["Title"] = "Papers";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<main id="main">
    <section id="services" class="services mt-5">
        <div class="container">
            <div class="section-title" data-aos="fade-up">
                <h2>@ViewData["Title"]</h2>
                <p>Browser all of the current papers.</p>
            </div>
                @*<form class="col-12">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search Papers">
                        <span class="input-group-btn">
                            <button class="btn btn-success" type="button">Go!</button>
                        </span>
                    </div>
                </form>*@


        <div class="shadow pt-3 mb-5">

            <div class="">
                <div id="cardHolder" class="container-fluid ">
                    @foreach (var item in Model)
                    {


                    <div id="card" class="card">
                        <a style="display:block" asp-action="Paper" asp-controller="Home" asp-route-id="@item.ID">
                            <div class="row p-4">
                                <div class="text-dark col-8">
                                    <h3>@item.Title</h3>
                                </div>
                                <div class="text-dark col-4 d-flex flex-row-reverse">
                                    <p class="small">@item.Date</p>
                                </div>
                            </div>

                            <div class="card-body">
                                <div class="text-dark col-12"><h5>@item.Paper .....</h5></div>
                                <div class="text-decoration-none col-4"><p class="small">Read More</p></div>

                            </div>

                            
                        </a>
                    </div>
                    }

                </div>
                <div class="d-flex justify-content-center">
                    <button class="m-3 btn btn-dark" onclick="OnClick()">Load More</button>
                </div>
            </div>
        </div>            

        </div>
    </section>
</main>

<script>
    let page = 0;

    function OnClick() {
        page++;

        $.ajax({
            url: "/Home/NextPage/" + page,
            success: function _success(response) {
                console.log(response);
                document.getElementById('cardHolder').innerHTML += response;
            }
        });
    }
</script>